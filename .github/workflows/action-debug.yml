name: action debug
run-name: ${{ github.actor }} - ${{ github.event_name }}
on: 
    push:
       branches: 
        - ci/github

jobs:
  debug-linux:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: get branch name
      id: get-branch-name
      run: |
        branch_name=$(echo ${GITHUB_REF#refs/heads/})
        branch_name=$(echo $branch_name|sed 's|/|-|g')
        echo "::set-output name=branch::$branch_name"
    - name: debug
      run: |
        echo "branch name: ${{ steps.get-branch-name.outputs.branch }}"
  debug-windows:
    runs-on: windows-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: get branch name
      id: get-branch-name
      run: |
        $branch_name = "ci/github"
        $branch_name = $branch_name -replace "/", "-"
        echo "::set-output name=branch::$branch_name"
    - name: debug
      run: |
        echo "branch name: ${{ steps.get-branch-name.outputs.branch }}"
